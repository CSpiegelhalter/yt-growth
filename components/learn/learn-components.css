/* =================================
   Learn Components
   4-point spacing system (4, 8, 12, 16, 24, 32, 48, 64)
   ================================= */

/* =================================
   LearnToc Component
   ================================= */

.learnToc {
  margin-bottom: 32px;
}

.learnToc--inline {
  background: var(--surface-alt);
  border-radius: 8px;
  border: 1px solid var(--border-light);
}

.learnToc--sidebar {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}

@media (min-width: 1100px) {
  .learnToc--sidebar {
    position: sticky;
    top: 24px;
    max-height: calc(100vh - 48px);
    overflow-y: auto;
  }
}

.learnToc__title {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0 0 12px;
}

.learnToc__details {
  margin: 0;
}

.learnToc__details[open] .learnToc__chevron {
  transform: rotate(180deg);
}

.learnToc__summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 12px 16px;
  font-size: 14px;
  font-weight: 500;
  color: var(--text);
  cursor: pointer;
  list-style: none;
  user-select: none;
}

.learnToc__summary::-webkit-details-marker {
  display: none;
}

.learnToc__summary:hover {
  color: var(--primary);
}

.learnToc__summaryText {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.04em;
}

.learnToc__chevron {
  flex-shrink: 0;
  color: var(--text-tertiary);
  transition: transform 0.15s ease;
}

.learnToc__content {
  padding: 0 16px 12px;
  max-height: 50vh;
  overflow-y: auto;
}

.learnToc__list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.learnToc__item {
  margin: 0;
}

.learnToc__link {
  display: block;
  font-size: 12px;
  line-height: 1.4;
  color: var(--text-secondary);
  text-decoration: none;
  padding: 4px 8px;
  border-radius: 4px;
  transition: all 0.15s ease;
}

.learnToc__link:hover {
  color: var(--primary);
  background: var(--surface);
}

@media (min-width: 1100px) {
  .learnToc__content {
    max-height: none;
  }
}

/* =================================
   SECTION VARIANTS
   ================================= */

.sectionOpen {
  padding: 32px 0;
}

@media (min-width: 768px) {
  .sectionOpen {
    padding: 48px 0;
  }
}

.sectionTinted {
  background: linear-gradient(180deg, var(--surface-alt) 0%, transparent 100%);
  padding: 32px 20px;
  margin: 24px -20px;
  border-radius: 0;
}

@media (min-width: 768px) {
  .sectionTinted {
    padding: 48px 32px;
    margin: 32px -32px;
    border-radius: 16px;
  }
}

.sectionAccent {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  padding: 32px 20px;
  margin: 48px -20px 0;
  border-radius: 0;
  text-align: center;
}

@media (min-width: 768px) {
  .sectionAccent {
    padding: 48px 32px;
    margin: 64px -32px 0;
    border-radius: 16px;
  }
}

.sectionAccent h2,
.sectionAccent h3,
.sectionAccent p {
  color: white;
}

.sectionAccent p {
  opacity: 0.9;
}

/* =================================
   Visual Break / Illustration
   ================================= */

.inlineIllustration {
  display: flex;
  justify-content: center;
  padding: 32px 0;
  margin: 16px 0;
}

@media (min-width: 768px) {
  .inlineIllustration {
    padding: 48px 0;
    margin: 24px 0;
  }
}

.inlineIllustration svg {
  max-width: 100%;
  height: auto;
}

/* =================================
   Callout Styles
   ================================= */

.funCallout {
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 24px;
  margin: 24px 0;
}

@media (min-width: 768px) {
  .funCallout {
    padding: 32px;
    margin: 32px 0;
  }
}

.funCallout__text {
  font-size: 16px;
  font-weight: 500;
  color: var(--text);
  margin: 0;
  line-height: 1.6;
}

@media (min-width: 768px) {
  .funCallout__text {
    font-size: 18px;
  }
}

.realTalk {
  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
  border-left: 4px solid #0ea5e9;
  border-radius: 0 8px 8px 0;
  padding: 16px 20px;
  margin: 24px 0;
}

@media (min-width: 768px) {
  .realTalk {
    padding: 20px 24px;
    margin: 32px 0;
  }
}

.realTalk__label {
  font-size: 11px;
  font-weight: 700;
  color: #0369a1;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0 0 8px;
}

.realTalk__text {
  font-size: 14px;
  color: #0c4a6e;
  margin: 0;
  line-height: 1.6;
}

@media (min-width: 768px) {
  .realTalk__text {
    font-size: 15px;
  }
}

/* =================================
   Stat Display
   ================================= */

.statRow {
  display: flex;
  justify-content: center;
  gap: 24px;
  flex-wrap: wrap;
  padding: 32px 0;
  margin: 16px 0;
  border-top: 1px solid var(--border-light);
  border-bottom: 1px solid var(--border-light);
}

@media (min-width: 640px) {
  .statRow {
    gap: 48px;
    padding: 40px 0;
  }
}

.statRow__item {
  text-align: center;
}

.statRow__value {
  font-size: 28px;
  font-weight: 700;
  color: var(--primary);
}

@media (min-width: 640px) {
  .statRow__value {
    font-size: 36px;
  }
}

.statRow__label {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px;
}

/* =================================
   MetricCard Grid
   ================================= */

.metricCardGrid {
  display: grid;
  gap: 16px;
  grid-template-columns: 1fr;
  margin: 24px 0;
}

@media (min-width: 640px) {
  .metricCardGrid {
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin: 32px 0;
  }
}

.metricCard {
  background: white;
  border-radius: 12px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

@media (min-width: 768px) {
  .metricCard {
    padding: 24px;
  }
}

.metricCard:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.metricCard__name {
  font-size: 15px;
  font-weight: 700;
  color: var(--text);
  margin: 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

@media (min-width: 768px) {
  .metricCard__name {
    font-size: 16px;
  }
}

.metricCard__icon {
  width: 20px;
  height: 20px;
  color: var(--primary);
  flex-shrink: 0;
}

.metricCard__tells {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.5;
  margin: 0;
}

.metricCard__range {
  font-size: 12px;
  color: var(--primary);
  font-weight: 600;
  margin: 0;
  padding: 8px 12px;
  background: var(--primary-light);
  border-radius: 6px;
  display: inline-block;
  width: fit-content;
}

.metricCard__action {
  font-size: 14px;
  color: var(--text);
  line-height: 1.5;
  margin: 0;
  padding-top: 12px;
  border-top: 1px solid var(--border-light);
}

.metricCard__action strong {
  color: #059669;
  font-weight: 600;
}

/* =================================
   Diagnosis Flow
   ================================= */

.diagnosisFlow {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin: 24px 0;
}

@media (min-width: 768px) {
  .diagnosisFlow {
    gap: 24px;
    margin: 32px 0;
  }
}

.diagnosisFlow__branch {
  background: white;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
  position: relative;
  overflow: hidden;
}

@media (min-width: 768px) {
  .diagnosisFlow__branch {
    padding: 24px;
  }
}

.diagnosisFlow__branch::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  background: linear-gradient(180deg, var(--primary) 0%, #8b5cf6 100%);
}

.diagnosisFlow__condition {
  font-size: 15px;
  font-weight: 700;
  color: var(--text);
  margin: 0 0 8px;
  display: flex;
  align-items: flex-start;
  gap: 8px;
}

@media (min-width: 768px) {
  .diagnosisFlow__condition {
    font-size: 16px;
  }
}

.diagnosisFlow__conditionIcon {
  width: 20px;
  height: 20px;
  color: var(--primary);
  flex-shrink: 0;
  margin-top: 2px;
}

.diagnosisFlow__why {
  font-size: 14px;
  color: var(--text-secondary);
  line-height: 1.6;
  margin: 0 0 16px;
  padding-left: 28px;
}

.diagnosisFlow__actions {
  list-style: none;
  padding: 0 0 0 28px;
  margin: 0 0 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.diagnosisFlow__actions li {
  font-size: 14px;
  color: var(--text);
  padding-left: 20px;
  position: relative;
  line-height: 1.5;
}

.diagnosisFlow__actions li::before {
  content: "â€º";
  position: absolute;
  left: 0;
  color: #10b981;
  font-weight: bold;
  font-size: 16px;
}

.diagnosisFlow__link {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  font-weight: 600;
  color: var(--primary);
  text-decoration: none;
  margin-left: 28px;
  padding: 8px 12px;
  background: var(--primary-light);
  border-radius: 6px;
  transition: all 0.15s ease;
}

.diagnosisFlow__link:hover {
  background: var(--primary);
  color: white;
}

/* =================================
   Studio Path Chips
   ================================= */

.studioPath {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 4px;
  margin: 8px 0;
}

.studioPath__chip {
  font-size: 12px;
  font-weight: 500;
  color: var(--text);
  background: white;
  padding: 4px 10px;
  border-radius: 100px;
  border: 1px solid var(--border);
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.studioPath__arrow {
  font-size: 14px;
  color: var(--text-tertiary);
  font-weight: 500;
}

/* =================================
   Metric Row
   ================================= */

.metricRow {
  padding: 20px 0;
  border-bottom: 1px solid var(--border-light);
}

@media (min-width: 768px) {
  .metricRow {
    padding: 24px 0;
  }
}

.metricRow:last-child {
  border-bottom: none;
}

.metricRow__name {
  font-size: 16px;
  font-weight: 700;
  color: var(--text);
  margin: 0 0 8px;
}

.metricRow__path {
  margin: 8px 0;
}

.metricRow__why {
  font-size: 14px;
  color: var(--text-secondary);
  margin: 8px 0 0;
  line-height: 1.5;
}

.metricRow__tip {
  font-size: 13px;
  font-weight: 500;
  color: #059669;
  background: #ecfdf5;
  padding: 8px 12px;
  border-radius: 6px;
  margin: 12px 0 0;
  display: inline-block;
}

/* =================================
   Pull Quote
   ================================= */

.pullQuote {
  font-size: 20px;
  font-weight: 600;
  color: var(--text);
  line-height: 1.4;
  padding: 32px 0;
  margin: 24px 0;
  text-align: center;
  position: relative;
}

@media (min-width: 640px) {
  .pullQuote {
    font-size: 24px;
    padding: 40px 24px;
    margin: 32px 0;
  }
}

.pullQuote::before,
.pullQuote::after {
  content: "";
  display: block;
  width: 60px;
  height: 3px;
  background: linear-gradient(90deg, var(--primary) 0%, #8b5cf6 100%);
  margin: 0 auto 16px;
  border-radius: 2px;
}

.pullQuote::after {
  margin: 16px auto 0;
}

/* =================================
   Diagnostic Step (Clean Cards)
   ================================= */

.diagnosticStep {
  margin-bottom: 24px;
}

@media (min-width: 768px) {
  .diagnosticStep {
    margin-bottom: 32px;
  }
}

.diagnosticStep:last-child {
  margin-bottom: 0;
}

.diagnosticStep__title {
  font-size: 17px;
  font-weight: 700;
  color: var(--text);
  margin: 0 0 12px;
}

@media (min-width: 768px) {
  .diagnosticStep__title {
    font-size: 18px;
    margin-bottom: 16px;
  }
}

.diagnosticStep__content {
  font-size: 15px;
  color: var(--text-secondary);
  line-height: 1.7;
}

@media (min-width: 768px) {
  .diagnosticStep__content {
    font-size: 16px;
  }
}

.diagnosticStep__content p {
  margin: 0 0 12px;
}

.diagnosticStep__content p:last-child {
  margin-bottom: 0;
}

.diagnosticStep__tip {
  font-size: 14px;
  color: #065f46;
  background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
  padding: 12px 16px;
  border-radius: 8px;
  margin-top: 16px;
  border-left: 3px solid #10b981;
}

/* Divider between steps */
.diagnosticStep + .diagnosticStep {
  padding-top: 24px;
  border-top: 1px solid var(--border-light);
}

@media (min-width: 768px) {
  .diagnosticStep + .diagnosticStep {
    padding-top: 32px;
  }
}

/* =================================
   Root Cause Cards
   ================================= */

.rootCause {
  background: white;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
}

@media (min-width: 768px) {
  .rootCause {
    padding: 32px;
    margin-bottom: 32px;
  }
}

.rootCause__number {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, var(--primary) 0%, #8b5cf6 100%);
  color: white;
  font-size: 14px;
  font-weight: 700;
  border-radius: 50%;
  margin-bottom: 12px;
}

.rootCause__title {
  font-size: 18px;
  font-weight: 700;
  color: var(--text);
  margin: 0 0 16px;
}

@media (min-width: 768px) {
  .rootCause__title {
    font-size: 20px;
  }
}

.rootCause__content {
  font-size: 15px;
  color: var(--text-secondary);
  line-height: 1.7;
}

@media (min-width: 768px) {
  .rootCause__content {
    font-size: 16px;
  }
}

.rootCause__content p {
  margin: 0 0 16px;
}

.rootCause__content p:last-child {
  margin-bottom: 0;
}

.rootCause__label {
  font-size: 11px;
  font-weight: 700;
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.rootCause__quote {
  font-size: 17px;
  font-weight: 600;
  color: var(--primary);
  padding: 16px 20px;
  margin: 16px 0;
  background: var(--primary-light);
  border-radius: 8px;
  border-left: 4px solid var(--primary);
}

@media (min-width: 768px) {
  .rootCause__quote {
    font-size: 18px;
    padding: 20px 24px;
  }
}

/* =================================
   Standalone Line
   ================================= */

.standaloneLine {
  font-size: 24px;
  font-weight: 700;
  color: var(--primary);
  margin: 24px 0;
  text-align: center;
}

@media (min-width: 640px) {
  .standaloneLine {
    font-size: 32px;
    margin: 32px 0;
  }
}

/* =================================
   Comparison Grid
   ================================= */

.comparisonGrid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
  margin: 24px 0;
}

@media (min-width: 640px) {
  .comparisonGrid {
    grid-template-columns: repeat(2, 1fr);
  }
}

.comparisonItem {
  padding: 20px;
  border-radius: 12px;
}

.comparisonItem--bad {
  background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
  border: 1px solid #fecaca;
}

.comparisonItem--good {
  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
  border: 1px solid #bbf7d0;
}

.comparisonItem__label {
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0 0 8px;
}

.comparisonItem--bad .comparisonItem__label {
  color: #dc2626;
}

.comparisonItem--good .comparisonItem__label {
  color: #16a34a;
}

.comparisonItem__content {
  font-size: 14px;
  line-height: 1.6;
  margin: 0;
}

.comparisonItem--bad .comparisonItem__content {
  color: #7f1d1d;
}

.comparisonItem--good .comparisonItem__content {
  color: #14532d;
}

/* =================================
   Scroll offset for anchors
   ================================= */

[id] {
  scroll-margin-top: 80px;
}

@media (min-width: 768px) {
  [id] {
    scroll-margin-top: 96px;
  }
}

/* =================================
   Topics Dropdown Navigation
   ================================= */

.topicsDropdown {
  position: relative;
}

.topicsDropdown__trigger {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 16px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 8px;
  cursor: pointer;
  list-style: none;
  font-size: 14px;
  transition: border-color 0.15s ease;
}

.topicsDropdown__trigger::-webkit-details-marker {
  display: none;
}

.topicsDropdown__trigger:hover {
  border-color: var(--primary);
}

.topicsDropdown__label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.03em;
}

.topicsDropdown__current {
  font-weight: 600;
  color: var(--text);
  flex: 1;
}

.topicsDropdown__chevron {
  color: var(--text-tertiary);
  transition: transform 0.15s ease;
  flex-shrink: 0;
}

.topicsDropdown[open] .topicsDropdown__chevron {
  transform: rotate(180deg);
}

.topicsDropdown[open] .topicsDropdown__trigger {
  border-color: var(--primary);
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
}

.topicsDropdown__menu {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: var(--surface);
  border: 1px solid var(--primary);
  border-top: none;
  border-radius: 0 0 8px 8px;
  max-height: 320px;
  overflow-y: auto;
  z-index: 100;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.topicsDropdown__item {
  display: block;
  padding: 10px 16px;
  font-size: 14px;
  color: var(--text-secondary);
  text-decoration: none;
  transition: background 0.1s ease, color 0.1s ease;
  border-bottom: 1px solid var(--border-light);
}

.topicsDropdown__item:last-child {
  border-bottom: none;
}

.topicsDropdown__item:hover {
  background: var(--surface-alt);
  color: var(--text);
}

.topicsDropdown__item--active {
  background: var(--primary-light);
  color: var(--primary);
  font-weight: 600;
}

.topicsDropdown__item--active:hover {
  background: var(--primary-light);
  color: var(--primary);
}
