# =====================================
# YouTube Growth Consultant - Environment Variables
# =====================================
# Copy this file to .env and fill in values

# =====================================
# Database (required)
# =====================================
# For local development (no pooler):
DATABASE_URL="postgresql://yt_growth:yt_growth_dev@localhost:5432/yt_growth?schema=public"
# DIRECT_DATABASE_URL - same as DATABASE_URL for local dev (optional)

# For production with connection pooler (Supabase, Neon, etc.):
# DATABASE_URL should be the POOLED connection with ?pgbouncer=true
# DATABASE_URL="postgresql://user:pass@pooler.host:6543/db?pgbouncer=true"
# DIRECT_DATABASE_URL should be the DIRECT connection (for migrations)
# DIRECT_DATABASE_URL="postgresql://user:pass@direct.host:5432/db"

# =====================================
# App URLs
# =====================================
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-nextauth-secret-generate-with-openssl-rand-base64-32"

# =====================================
# Google OAuth (required for YouTube integration)
# =====================================
# Create credentials at: https://console.cloud.google.com/apis/credentials
# Enable: YouTube Data API v3, YouTube Analytics API
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_OAUTH_REDIRECT="http://localhost:3000/api/integrations/google/callback"

# =====================================
# Stripe (required for payments)
# =====================================
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."
STRIPE_PRICE_ID="price_..." # Your subscription price ID
# Customer portal link from: https://dashboard.stripe.com/test/settings/billing/portal
NEXT_PUBLIC_STRIPE_PORTAL_URL="https://billing.stripe.com/p/login/test_..."

# =====================================
# OpenAI (required for plan generation)
# =====================================
OPENAI_API_KEY="sk-..."

# =====================================
# Stability AI (optional - for style-referenced thumbnail generation)
# =====================================
# Get from: https://platform.stability.ai/account/keys
# Used for image-to-image generation when a meme reference is selected
STABILITY_API_KEY="sk-..."

# =====================================
# Email Token (for email verification)
# =====================================
EMAIL_TOKEN_SECRET="your-email-token-secret-generate-with-openssl-rand-base64-32"

# =====================================
# Resend (for contact form emails)
# =====================================
# Get from: https://resend.com/api-keys
RESEND_API_KEY="re_..."
# Your verified domain in Resend (or use resend.dev for testing)
RESEND_DOMAIN="resend.dev"
# Where contact form messages should be sent
CONTACT_EMAIL="your-email@example.com"

# =====================================
# Cron Security
# =====================================
CRON_SECRET="your-cron-secret-generate-with-openssl-rand-base64-32"

# =====================================
# Object Storage (optional - for Thumbnail Generator in production)
# =====================================
# S3-compatible storage for storing generated thumbnails
# If not configured, falls back to local filesystem storage
# S3_BUCKET="your-bucket-name"
# S3_REGION="us-east-1"
# S3_ACCESS_KEY_ID="your-access-key"
# S3_SECRET_ACCESS_KEY="your-secret-key"
# S3_ENDPOINT="https://s3.amazonaws.com" # Optional: for S3-compatible services like MinIO, R2
# S3_PUBLIC_URL_PREFIX="https://cdn.example.com" # Optional: CDN URL for public access

# =====================================
# Test Mode (development only)
# =====================================
# Set to "1" to enable test mode:
# - Bypasses Stripe payments (auto-activates subscriptions)
# - Uses fixture data for YouTube APIs
# - Makes all subscription checks pass
TEST_MODE="1"

# =====================================
# Automated Test Flags (E2E/Integration tests)
# =====================================
# These flags enable fake integrations for reliable automated testing.
# Set all to "1" when running test:e2e or test:integration.

# APP_TEST_MODE=1       # Enables test-only API routes (/api/test/*)
# FAKE_YOUTUBE=1        # Uses fake YouTube data, no real OAuth needed
# FAKE_STRIPE=1         # Uses fake Stripe billing state changes
# DISABLE_RATE_LIMITS=1 # Disables rate limiting for faster tests

# Test user credentials for E2E tests:
# TEST_USER_EMAIL="e2e@example.com"
# TEST_USER_PASSWORD="Password123!"

# For tests, use a separate database:
# DATABASE_URL="postgresql://yt_growth:yt_growth_dev@localhost:5432/channelboost_test?schema=public"

# =====================================
# OAuth Verification Demo (for Google verification recordings)
# =====================================
# Set to "true" to show the "Verification Login" button on the login page.
# This button forces Google's OAuth consent screen for demo recordings.
# You can also use ?verify=1 query param on the login page for ad-hoc demos.
# NEXT_PUBLIC_ENABLE_OAUTH_VERIFY_BUTTON="true"

# =====================================
# Debug (development only)
# =====================================
# Set to "1" to enable verbose logging
DEBUG="0"

